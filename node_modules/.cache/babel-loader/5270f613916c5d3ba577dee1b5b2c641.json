{"ast":null,"code":"import _slicedToArray from\"/Users/jaylenschelb/dev/courses/Year 2/Term 3/ACS 1310/final_project/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import AnimatedCircularProgress from'./AnimatedCircularProgress';import{jsx as _jsx}from\"react/jsx-runtime\";var TOTAL_AREA=148940000.0;var current_area=0;var prev_country='';var prev_selected=false;function LandArea(_ref){var mapState=_ref.mapState,country_data=_ref.country_data;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),valueEnd=_useState2[0],setValueEnd=_useState2[1];function calculatePercentage(){prev_country=mapState.countryCode;prev_selected=mapState.isSelected;var area=country_data.find(function(i){return i.cca2===mapState.countryCode;}).area;if(mapState.isSelected){current_area+=area;}else{current_area-=area;}if(current_area>0){var current_percentage=current_area/TOTAL_AREA*100;setValueEnd(current_percentage);}else{setValueEnd(0);}}if(mapState.countryCode!==''&&(mapState.countryCode!==prev_country||mapState.isSelected!==prev_selected)){calculatePercentage();}return/*#__PURE__*/_jsx(\"div\",{className:\"LandArea\",children:/*#__PURE__*/_jsx(AnimatedCircularProgress,{valueEnd:valueEnd,post_text:\"%\",decimal:1})});}export default LandArea;","map":{"version":3,"sources":["/Users/jaylenschelb/dev/courses/Year 2/Term 3/ACS 1310/final_project/src/components/LandArea.js"],"names":["React","useState","AnimatedCircularProgress","TOTAL_AREA","current_area","prev_country","prev_selected","LandArea","mapState","country_data","valueEnd","setValueEnd","calculatePercentage","countryCode","isSelected","area","find","i","cca2","current_percentage"],"mappings":"0JAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,wBAAP,KAAqC,4BAArC,C,2CAEA,GAAMC,CAAAA,UAAU,CAAG,WAAnB,CACA,GAAIC,CAAAA,YAAY,CAAG,CAAnB,CACA,GAAIC,CAAAA,YAAY,CAAG,EAAnB,CACA,GAAIC,CAAAA,aAAa,CAAG,KAApB,CAEA,QAASC,CAAAA,QAAT,MAA8C,IAA1BC,CAAAA,QAA0B,MAA1BA,QAA0B,CAAhBC,YAAgB,MAAhBA,YAAgB,CAC1C,cAAgCR,QAAQ,CAAC,CAAD,CAAxC,wCAAOS,QAAP,eAAiBC,WAAjB,eAEA,QAASC,CAAAA,mBAAT,EAA+B,CAC3BP,YAAY,CAAGG,QAAQ,CAACK,WAAxB,CACAP,aAAa,CAAGE,QAAQ,CAACM,UAAzB,CAEA,GAAIC,CAAAA,IAAI,CAAGN,YAAY,CAACO,IAAb,CAAkB,SAAAC,CAAC,QAAEA,CAAAA,CAAC,CAACC,IAAF,GAAWV,QAAQ,CAACK,WAAtB,EAAnB,EAAsDE,IAAjE,CAEA,GAAIP,QAAQ,CAACM,UAAb,CAAyB,CACrBV,YAAY,EAAIW,IAAhB,CACH,CAFD,IAEO,CACHX,YAAY,EAAIW,IAAhB,CACH,CAED,GAAIX,YAAY,CAAG,CAAnB,CAAsB,CAClB,GAAIe,CAAAA,kBAAkB,CAAIf,YAAY,CAAGD,UAAhB,CAA8B,GAAvD,CACAQ,WAAW,CAACQ,kBAAD,CAAX,CACH,CAHD,IAGO,CACHR,WAAW,CAAC,CAAD,CAAX,CACH,CACJ,CAED,GAAIH,QAAQ,CAACK,WAAT,GAAyB,EAAzB,GAAgCL,QAAQ,CAACK,WAAT,GAAyBR,YAAzB,EAAyCG,QAAQ,CAACM,UAAT,GAAwBR,aAAjG,CAAJ,CAAqH,CACjHM,mBAAmB,GACtB,CAED,mBACI,YAAK,SAAS,CAAC,UAAf,uBACI,KAAC,wBAAD,EAA0B,QAAQ,CAAEF,QAApC,CAA8C,SAAS,CAAE,GAAzD,CAA8D,OAAO,CAAE,CAAvE,EADJ,EADJ,CAKH,CAED,cAAeH,CAAAA,QAAf","sourcesContent":["import React, { useState } from 'react'\nimport AnimatedCircularProgress from './AnimatedCircularProgress'\n\nconst TOTAL_AREA = 148940000.0\nlet current_area = 0\nlet prev_country = ''\nlet prev_selected = false\n\nfunction LandArea({ mapState, country_data }) {\n    const [valueEnd, setValueEnd] = useState(0);\n\n    function calculatePercentage() {\n        prev_country = mapState.countryCode\n        prev_selected = mapState.isSelected\n\n        let area = country_data.find(i=>i.cca2 === mapState.countryCode).area\n\n        if (mapState.isSelected) {\n            current_area += area\n        } else {  \n            current_area -= area\n        }\n\n        if (current_area > 0) {\n            let current_percentage = (current_area / TOTAL_AREA) * 100\n            setValueEnd(current_percentage)\n        } else {\n            setValueEnd(0)\n        }\n    }\n\n    if (mapState.countryCode !== '' && (mapState.countryCode !== prev_country || mapState.isSelected !== prev_selected)) {\n        calculatePercentage()\n    }\n\n    return (\n        <div className=\"LandArea\">\n            <AnimatedCircularProgress valueEnd={valueEnd} post_text={\"%\"} decimal={1}/>\n        </div>   \n    )\n}\n\nexport default LandArea"]},"metadata":{},"sourceType":"module"}