{"ast":null,"code":"var _jsxFileName = \"/Users/jaylenschelb/dev/courses/Year 2/Term 3/ACS 1310/final_project/src/components/HighestGDP.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport FlagStat from \"./FlagStat\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet highest_gdp = [0, ''];\nlet gdp_array = [[0, '']];\nlet prev_country = '';\nlet prev_selected = false;\n\nfunction HighestGDP(_ref) {\n  _s();\n\n  let {\n    mapState,\n    country_data,\n    country_gdp\n  } = _ref;\n  const [topCountry, setTopCountry] = useState([0, '']);\n\n  function calculateHighestGDP() {\n    prev_country = mapState.countryCode;\n    prev_selected = mapState.isSelected;\n    var request = new XMLHttpRequest();\n    request.open(\"GET\", `http://api.worldbank.org/v2/country/${mapState.countryCode}/indicator/NY.GDP.MKTP.CD?date=2020`, false);\n    request.send();\n    var xml = request.responseXML;\n    var gdp = xml.getElementsByTagName(\"wb:value\")[0].innerHTML;\n    console.log(gdp);\n\n    if (!mapState.isSelected) {\n      gdp_array = gdp_array.filter(function (e) {\n        return e[0] !== gdp;\n      });\n\n      if (gdp === highest_gdp[0]) {\n        highest_gdp = Math.max(gdp_array);\n        setTopCountry(highest_gdp);\n      }\n\n      return;\n    }\n\n    let flag = country_data.find(i => i.cca2 === mapState.countryCode).flag;\n    gdp_array.push([gdp, flag]);\n\n    if (gdp > highest_gdp[0]) {\n      highest_gdp = [gdp, flag];\n      setTopCountry(highest_gdp);\n    }\n  }\n\n  if (mapState.countryCode !== '' && (mapState.countryCode !== prev_country || mapState.isSelected !== prev_selected)) {\n    calculateHighestGDP();\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"HighestGDP\",\n    children: /*#__PURE__*/_jsxDEV(FlagStat, {\n      valueEnd: topCountry[0],\n      country_flag: topCountry[1],\n      heading_text: \"ðŸ’¸ Highest GDP:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n}\n\n_s(HighestGDP, \"jjwqwoM7OiVwCjvaBQZwEp/60+I=\");\n\n_c = HighestGDP;\nexport default HighestGDP;\n\nvar _c;\n\n$RefreshReg$(_c, \"HighestGDP\");","map":{"version":3,"sources":["/Users/jaylenschelb/dev/courses/Year 2/Term 3/ACS 1310/final_project/src/components/HighestGDP.js"],"names":["useState","FlagStat","highest_gdp","gdp_array","prev_country","prev_selected","HighestGDP","mapState","country_data","country_gdp","topCountry","setTopCountry","calculateHighestGDP","countryCode","isSelected","request","XMLHttpRequest","open","send","xml","responseXML","gdp","getElementsByTagName","innerHTML","console","log","filter","e","Math","max","flag","find","i","cca2","push"],"mappings":";;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAOC,QAAP,MAAqB,YAArB;;AAEA,IAAIC,WAAW,GAAG,CAAC,CAAD,EAAI,EAAJ,CAAlB;AACA,IAAIC,SAAS,GAAG,CAAC,CAAC,CAAD,EAAI,EAAJ,CAAD,CAAhB;AACA,IAAIC,YAAY,GAAG,EAAnB;AACA,IAAIC,aAAa,GAAG,KAApB;;AAEA,SAASC,UAAT,OAA6D;AAAA;;AAAA,MAAzC;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,YAAZ;AAA0BC,IAAAA;AAA1B,GAAyC;AACzD,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BX,QAAQ,CAAC,CAAC,CAAD,EAAI,EAAJ,CAAD,CAA5C;;AAEA,WAASY,mBAAT,GAA+B;AAC3BR,IAAAA,YAAY,GAAGG,QAAQ,CAACM,WAAxB;AACAR,IAAAA,aAAa,GAAGE,QAAQ,CAACO,UAAzB;AAEA,QAAIC,OAAO,GAAG,IAAIC,cAAJ,EAAd;AACAD,IAAAA,OAAO,CAACE,IAAR,CAAa,KAAb,EAAqB,uCAAsCV,QAAQ,CAACM,WAAY,qCAAhF,EAAsH,KAAtH;AACAE,IAAAA,OAAO,CAACG,IAAR;AACA,QAAIC,GAAG,GAAGJ,OAAO,CAACK,WAAlB;AACA,QAAIC,GAAG,GAAGF,GAAG,CAACG,oBAAJ,CAAyB,UAAzB,EAAqC,CAArC,EAAwCC,SAAlD;AAEAC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAZ;;AAEA,QAAI,CAACd,QAAQ,CAACO,UAAd,EAA0B;AACtBX,MAAAA,SAAS,GAAGA,SAAS,CAACuB,MAAV,CAAiB,UAASC,CAAT,EAAY;AAAE,eAAOA,CAAC,CAAC,CAAD,CAAD,KAASN,GAAhB;AAAqB,OAApD,CAAZ;;AAEA,UAAIA,GAAG,KAAKnB,WAAW,CAAC,CAAD,CAAvB,EAA4B;AACxBA,QAAAA,WAAW,GAAG0B,IAAI,CAACC,GAAL,CAAS1B,SAAT,CAAd;AACAQ,QAAAA,aAAa,CAACT,WAAD,CAAb;AACH;;AAED;AACH;;AAED,QAAI4B,IAAI,GAAGtB,YAAY,CAACuB,IAAb,CAAkBC,CAAC,IAAEA,CAAC,CAACC,IAAF,KAAW1B,QAAQ,CAACM,WAAzC,EAAsDiB,IAAjE;AACA3B,IAAAA,SAAS,CAAC+B,IAAV,CAAe,CAACb,GAAD,EAAMS,IAAN,CAAf;;AAEA,QAAIT,GAAG,GAAGnB,WAAW,CAAC,CAAD,CAArB,EAA0B;AACtBA,MAAAA,WAAW,GAAG,CAACmB,GAAD,EAAMS,IAAN,CAAd;AACAnB,MAAAA,aAAa,CAACT,WAAD,CAAb;AACH;AACJ;;AAED,MAAIK,QAAQ,CAACM,WAAT,KAAyB,EAAzB,KAAgCN,QAAQ,CAACM,WAAT,KAAyBT,YAAzB,IAAyCG,QAAQ,CAACO,UAAT,KAAwBT,aAAjG,CAAJ,EAAqH;AACjHO,IAAAA,mBAAmB;AACtB;;AAED,sBACI;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA,2BACI,QAAC,QAAD;AACI,MAAA,QAAQ,EAAEF,UAAU,CAAC,CAAD,CADxB;AAEI,MAAA,YAAY,EAAEA,UAAU,CAAC,CAAD,CAF5B;AAGI,MAAA,YAAY,EAAE;AAHlB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AASH;;GAhDQJ,U;;KAAAA,U;AAkDP,eAAeA,UAAf","sourcesContent":["import { useState } from 'react'\nimport FlagStat from \"./FlagStat\";\n\nlet highest_gdp = [0, '']\nlet gdp_array = [[0, '']]\nlet prev_country = ''\nlet prev_selected = false\n\nfunction HighestGDP({ mapState, country_data, country_gdp }) {\n    const [topCountry, setTopCountry] = useState([0, '']);\n\n    function calculateHighestGDP() {\n        prev_country = mapState.countryCode\n        prev_selected = mapState.isSelected\n\n        var request = new XMLHttpRequest();\n        request.open(\"GET\", `http://api.worldbank.org/v2/country/${mapState.countryCode}/indicator/NY.GDP.MKTP.CD?date=2020`, false);\n        request.send();\n        var xml = request.responseXML;\n        var gdp = xml.getElementsByTagName(\"wb:value\")[0].innerHTML;\n\n        console.log(gdp)\n\n        if (!mapState.isSelected) {\n            gdp_array = gdp_array.filter(function(e) { return e[0] !== gdp })\n\n            if (gdp === highest_gdp[0]) {\n                highest_gdp = Math.max(gdp_array)\n                setTopCountry(highest_gdp)\n            }\n\n            return\n        }\n\n        let flag = country_data.find(i=>i.cca2 === mapState.countryCode).flag\n        gdp_array.push([gdp, flag])\n\n        if (gdp > highest_gdp[0]) {\n            highest_gdp = [gdp, flag]\n            setTopCountry(highest_gdp)\n        }\n    }\n\n    if (mapState.countryCode !== '' && (mapState.countryCode !== prev_country || mapState.isSelected !== prev_selected)) {\n        calculateHighestGDP()\n    }\n\n    return (\n        <div className=\"HighestGDP\">\n            <FlagStat\n                valueEnd={topCountry[0]}\n                country_flag={topCountry[1]}\n                heading_text={\"ðŸ’¸ Highest GDP:\"}\n            />\n        </div>\n    )\n}\n  \n  export default HighestGDP"]},"metadata":{},"sourceType":"module"}