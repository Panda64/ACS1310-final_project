{"ast":null,"code":"import _classCallCheck from\"/Users/jaylenschelb/dev/courses/Year 2/Term 3/ACS 1310/final_project/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/jaylenschelb/dev/courses/Year 2/Term 3/ACS 1310/final_project/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/jaylenschelb/dev/courses/Year 2/Term 3/ACS 1310/final_project/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/jaylenschelb/dev/courses/Year 2/Term 3/ACS 1310/final_project/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from\"react\";import html2canvas from\"html2canvas\";import\"./ScreenShot.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ScreenCapture=/*#__PURE__*/function(_Component){_inherits(ScreenCapture,_Component);var _super=_createSuper(ScreenCapture);function ScreenCapture(){var _this;_classCallCheck(this,ScreenCapture);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.ref=/*#__PURE__*/React.createRef();_this.handleClickTakeScreenShot=function(){var width=window.screen.availWidth;var height=window.screen.availHeight;if(window.devicePixelRatio>1){width=width*2;height=height*2;}var _cropPositionTop$crop={cropPositionTop:0,cropPositionLeft:0,cropWidth:width,cropHeigth:height},cropPositionTop=_cropPositionTop$crop.cropPositionTop,cropPositionLeft=_cropPositionTop$crop.cropPositionLeft,cropWidth=_cropPositionTop$crop.cropWidth,cropHeigth=_cropPositionTop$crop.cropHeigth;html2canvas(_this.ref.current).then(function(canvas){var croppedCanvas=document.createElement(\"canvas\");var croppedCanvasContext=croppedCanvas.getContext(\"2d\");croppedCanvas.width=cropWidth;croppedCanvas.height=cropHeigth;croppedCanvasContext.drawImage(canvas,cropPositionLeft,cropPositionTop);var a=document.createElement(\"a\");a.href=croppedCanvas.toDataURL();a.download=\"receipt.png\";a.click();});};return _this;}_createClass(ScreenCapture,[{key:\"render\",value:function render(){var children=this.props.children;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{id:\"#screenshot\"// style={{ position: \"relative\", left: \"-1000px\" }}\n,ref:this.ref,children:[children,/*#__PURE__*/_jsx(\"button\",{className:\"Save\",onClick:this.handleClickTakeScreenShot,children:\"Save as PNG\"})]})});}}]);return ScreenCapture;}(Component);export{ScreenCapture as default};","map":{"version":3,"sources":["/Users/jaylenschelb/dev/courses/Year 2/Term 3/ACS 1310/final_project/src/components/ScreenShot.js"],"names":["React","Component","html2canvas","ScreenCapture","ref","createRef","handleClickTakeScreenShot","width","window","screen","availWidth","height","availHeight","devicePixelRatio","cropPositionTop","cropPositionLeft","cropWidth","cropHeigth","current","then","canvas","croppedCanvas","document","createElement","croppedCanvasContext","getContext","drawImage","a","href","toDataURL","download","click","children","props"],"mappings":"wlBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,WAAP,KAAwB,aAAxB,CACA,MAAO,kBAAP,C,2FAEqBC,CAAAA,a,uVACnBC,G,cAAMJ,KAAK,CAACK,SAAN,E,OAENC,yB,CAA4B,UAAM,CAEhC,GAAIC,CAAAA,KAAK,CAAGC,MAAM,CAACC,MAAP,CAAcC,UAA1B,CACA,GAAIC,CAAAA,MAAM,CAAGH,MAAM,CAACC,MAAP,CAAcG,WAA3B,CAEA,GAAIJ,MAAM,CAACK,gBAAP,CAA0B,CAA9B,CAAiC,CAC7BN,KAAK,CAAGA,KAAK,CAAG,CAAhB,CACAI,MAAM,CAAGA,MAAM,CAAG,CAAlB,CACH,CAED,0BAAqE,CACnEG,eAAe,CAAE,CADkD,CAEnEC,gBAAgB,CAAE,CAFiD,CAGnEC,SAAS,CAAET,KAHwD,CAInEU,UAAU,CAAEN,MAJuD,CAArE,CAAQG,eAAR,uBAAQA,eAAR,CAAyBC,gBAAzB,uBAAyBA,gBAAzB,CAA2CC,SAA3C,uBAA2CA,SAA3C,CAAsDC,UAAtD,uBAAsDA,UAAtD,CAOAf,WAAW,CAAC,MAAKE,GAAL,CAASc,OAAV,CAAX,CAA8BC,IAA9B,CAAmC,SAAAC,MAAM,CAAI,CAC3C,GAAIC,CAAAA,aAAa,CAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAApB,CACA,GAAIC,CAAAA,oBAAoB,CAAGH,aAAa,CAACI,UAAd,CAAyB,IAAzB,CAA3B,CAEAJ,aAAa,CAACd,KAAd,CAAsBS,SAAtB,CACAK,aAAa,CAACV,MAAd,CAAuBM,UAAvB,CAEAO,oBAAoB,CAACE,SAArB,CAA+BN,MAA/B,CAAuCL,gBAAvC,CAAyDD,eAAzD,EAEA,GAAMa,CAAAA,CAAC,CAAGL,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CAAV,CACAI,CAAC,CAACC,IAAF,CAASP,aAAa,CAACQ,SAAd,EAAT,CACAF,CAAC,CAACG,QAAF,CAAa,aAAb,CACAH,CAAC,CAACI,KAAF,GACD,CAbD,EAcD,C,+DAED,iBAAS,CACP,GAAQC,CAAAA,QAAR,CAAqB,KAAKC,KAA1B,CAAQD,QAAR,CAEA,mBACE,kCACE,aACE,EAAE,CAAC,aACH;AAFF,CAGE,GAAG,CAAE,KAAK5B,GAHZ,WAKC4B,QALD,cAMA,eAAQ,SAAS,CAAC,MAAlB,CAAyB,OAAO,CAAE,KAAK1B,yBAAvC,yBANA,GADF,EADF,CAYD,C,2BAnDwCL,S,SAAtBE,a","sourcesContent":["import React, { Component } from \"react\";\nimport html2canvas from \"html2canvas\";\nimport \"./ScreenShot.css\"\n\nexport default class ScreenCapture extends Component {\n  ref = React.createRef();\n\n  handleClickTakeScreenShot = () => {\n\n    let width = window.screen.availWidth\n    let height = window.screen.availHeight\n\n    if (window.devicePixelRatio > 1) {\n        width = width * 2\n        height = height * 2\n    }\n      \n    const { cropPositionTop, cropPositionLeft, cropWidth, cropHeigth } = {\n      cropPositionTop: 0,\n      cropPositionLeft: 0,\n      cropWidth: width,\n      cropHeigth: height\n    };\n\n    html2canvas(this.ref.current).then(canvas => {\n      let croppedCanvas = document.createElement(\"canvas\");\n      let croppedCanvasContext = croppedCanvas.getContext(\"2d\");\n\n      croppedCanvas.width = cropWidth;\n      croppedCanvas.height = cropHeigth;\n\n      croppedCanvasContext.drawImage(canvas, cropPositionLeft, cropPositionTop);\n\n      const a = document.createElement(\"a\");\n      a.href = croppedCanvas.toDataURL();\n      a.download = \"receipt.png\";\n      a.click();\n    });\n  };\n\n  render() {\n    const { children } = this.props;\n\n    return (\n      <div>\n        <div\n          id=\"#screenshot\"\n          // style={{ position: \"relative\", left: \"-1000px\" }}\n          ref={this.ref}\n        >\n        {children}\n        <button className=\"Save\" onClick={this.handleClickTakeScreenShot}>Save as PNG</button>    \n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}