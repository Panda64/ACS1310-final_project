{"ast":null,"code":"var _jsxFileName = \"/Users/jaylenschelb/dev/courses/Year 2/Term 3/ACS 1310/final_project/src/components/GDP.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from 'react';\nimport FlagStat from \"./FlagStat\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet target_gdp = [null, null];\nlet gdp_array = [];\nlet flag_array = [];\nlet prev_country = '';\nlet prev_selected = false;\n\nfunction GDP(_ref) {\n  _s();\n\n  let {\n    mapState,\n    country_data,\n    country_gdp,\n    text,\n    min_max\n  } = _ref;\n  const [targetCountry, setTargetCountry] = useState([0, '']);\n\n  function calculateTargetGDP() {\n    console.log('test');\n    let index;\n    prev_country = mapState.countryCode;\n    prev_selected = mapState.isSelected;\n    let gdp = country_gdp.find(i => i.country === mapState.countryName).unGDP;\n\n    if (!mapState.isSelected) {\n      index = gdp_array.indexOf(gdp);\n      gdp_array = gdp_array.filter(function (e) {\n        return e !== gdp;\n      });\n      flag_array.splice(index, 1);\n\n      if (gdp === target_gdp[0]) {\n        let new_target_gdp;\n\n        if (min_max === 1) {\n          new_target_gdp = Math.max(...gdp_array);\n        } else {\n          new_target_gdp = Math.min(...gdp_array);\n        }\n\n        index = gdp_array.indexOf(new_target_gdp);\n        target_gdp = [new_target_gdp, flag_array[index]];\n        setTargetCountry(target_gdp);\n      }\n\n      return;\n    }\n\n    let flag = country_data.find(i => i.cca2 === mapState.countryCode).flag;\n    gdp_array.push(gdp);\n    flag_array.push(flag);\n\n    if (min_max === 1) {\n      if (gdp > target_gdp[0] || !target_gdp[0]) {\n        target_gdp = [gdp, flag];\n        setTargetCountry(target_gdp);\n      }\n    } else {\n      if (gdp < target_gdp[0] || !target_gdp[0]) {\n        target_gdp = [gdp, flag];\n        setTargetCountry(target_gdp);\n      }\n    }\n  }\n\n  if (mapState.countryCode !== '' && (mapState.countryCode !== prev_country || mapState.isSelected !== prev_selected)) {\n    console.log('test2');\n    calculateTargetGDP();\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"GDP\",\n    children: /*#__PURE__*/_jsxDEV(FlagStat, {\n      valueEnd: targetCountry[0],\n      country_flag: targetCountry[1],\n      heading_text: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 9\n  }, this);\n}\n\n_s(GDP, \"Pqg6GKqlD/SbE/0xii30kHy5xws=\");\n\n_c = GDP;\nexport default GDP;\n\nvar _c;\n\n$RefreshReg$(_c, \"GDP\");","map":{"version":3,"sources":["/Users/jaylenschelb/dev/courses/Year 2/Term 3/ACS 1310/final_project/src/components/GDP.js"],"names":["useState","FlagStat","target_gdp","gdp_array","flag_array","prev_country","prev_selected","GDP","mapState","country_data","country_gdp","text","min_max","targetCountry","setTargetCountry","calculateTargetGDP","console","log","index","countryCode","isSelected","gdp","find","i","country","countryName","unGDP","indexOf","filter","e","splice","new_target_gdp","Math","max","min","flag","cca2","push"],"mappings":"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","sourcesContent":["import { useState } from 'react'\nimport FlagStat from \"./FlagStat\";\n\nlet target_gdp = [null, null]\nlet gdp_array = []\nlet flag_array = []\nlet prev_country = ''\nlet prev_selected = false\n\nfunction GDP({ mapState, country_data, country_gdp, text, min_max }) {\n    const [targetCountry, setTargetCountry] = useState([0, '']);\n\n    function calculateTargetGDP() {\n        console.log('test')\n        let index\n        prev_country = mapState.countryCode\n        prev_selected = mapState.isSelected\n\n        let gdp = country_gdp.find(i=>i.country === mapState.countryName).unGDP\n\n        if (!mapState.isSelected) {\n            index = gdp_array.indexOf(gdp)\n            gdp_array = gdp_array.filter(function(e) { return e !== gdp })\n            flag_array.splice(index, 1)\n\n            if (gdp === target_gdp[0]) {\n                let new_target_gdp\n\n                if (min_max === 1) {\n                    new_target_gdp = Math.max(...gdp_array)\n                } else {\n                    new_target_gdp = Math.min(...gdp_array)\n                }\n\n                index = gdp_array.indexOf(new_target_gdp)\n                target_gdp = [new_target_gdp, flag_array[index]]\n                setTargetCountry(target_gdp)\n            }\n\n            return\n        }\n\n        let flag = country_data.find(i=>i.cca2 === mapState.countryCode).flag\n        gdp_array.push(gdp)\n        flag_array.push(flag)\n\n        if (min_max === 1) {\n            if (gdp > target_gdp[0] || !target_gdp[0]) {\n                target_gdp = [gdp, flag]\n                setTargetCountry(target_gdp)\n            }\n        } else {\n            if (gdp < target_gdp[0] || !target_gdp[0]) {\n                target_gdp = [gdp, flag]\n                setTargetCountry(target_gdp)\n            }\n        }\n    }\n\n    if (mapState.countryCode !== '' && (mapState.countryCode !== prev_country || mapState.isSelected !== prev_selected)) {\n        console.log('test2')\n        calculateTargetGDP()\n\n    }\n\n    return (\n        <div className=\"GDP\">\n            <FlagStat\n                valueEnd={targetCountry[0]}\n                country_flag={targetCountry[1]}\n                heading_text={text}\n            />\n        </div>\n    )\n}\n  \n  export default GDP"]},"metadata":{},"sourceType":"module"}