{"ast":null,"code":"var _jsxFileName = \"/Users/jaylenschelb/dev/courses/Year 2/Term 3/ACS 1310/final_project/src/components/GDP.js\",\n    _s = $RefreshSig$();\n\n// This component could use some cleaning up... Should get rid of all the [min_max] indexing\n// More time effecient solution could be written for determining min and max GDP's\nimport { useState, useRef } from 'react';\nimport FlagStat from \"./FlagStat\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction GDP(_ref) {\n  _s();\n\n  let {\n    mapState,\n    country_data,\n    country_gdp,\n    text,\n    min_max,\n    comp_index\n  } = _ref;\n  let target_gdp = useRef([[null, null], [null, null]]);\n  let gdp_array = useRef([[], []]);\n  let flag_array = useRef([[], []]);\n  let prev_countries = useRef(['', '']);\n  let prev_selected = useRef([false, false]);\n  console.log(gdp_array.current);\n  const [targetCountry, setTargetCountry] = useState([0, '']);\n\n  function calculateTargetGDP() {\n    let index;\n    prev_countries.current[min_max] = mapState.countryCode;\n    prev_selected.current[min_max] = mapState.isSelected;\n    let gdp = country_gdp.find(i => i.country === mapState.countryName)[comp_index];\n\n    if (!mapState.isSelected) {\n      index = gdp_array.current[min_max].indexOf(gdp);\n      gdp_array.current[min_max] = gdp_array.current[min_max].filter(function (e) {\n        return e !== gdp;\n      });\n      flag_array.current[min_max].splice(index, 1);\n\n      if (gdp_array.current[min_max].length === 0) {\n        target_gdp.current[min_max] = [null, null];\n        setTargetCountry([0, '']);\n        return;\n      }\n\n      if (gdp === target_gdp.current[min_max][0]) {\n        let new_target_gdp;\n\n        if (min_max === 1) {\n          new_target_gdp = Math.max(...gdp_array.current[min_max]);\n        } else {\n          new_target_gdp = Math.min(...gdp_array.current[min_max]);\n        }\n\n        index = gdp_array.current[min_max].indexOf(new_target_gdp);\n        target_gdp.current[min_max] = [new_target_gdp, flag_array.current[min_max][index]];\n        setTargetCountry(target_gdp.current[min_max]);\n      }\n\n      return;\n    }\n\n    let flag = country_data.find(i => i.cca2 === mapState.countryCode).flag;\n    gdp_array.current[min_max].push(gdp);\n    flag_array.current[min_max].push(flag);\n\n    if (min_max === 1) {\n      if (gdp > target_gdp.current[min_max][0] || !target_gdp.current[min_max][0]) {\n        target_gdp.current[min_max] = [gdp, flag];\n        setTargetCountry(target_gdp.current[min_max]);\n      }\n    } else {\n      if (gdp < target_gdp.current[min_max][0] || !target_gdp.current[min_max][0]) {\n        target_gdp.current[min_max] = [gdp, flag];\n        setTargetCountry(target_gdp.current[min_max]);\n      }\n    }\n  }\n\n  if (mapState.countryCode !== '' && (mapState.countryCode !== prev_countries.current[min_max] || mapState.isSelected !== prev_selected.current[min_max])) {\n    calculateTargetGDP();\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"GDP\",\n    children: /*#__PURE__*/_jsxDEV(FlagStat, {\n      valueEnd: targetCountry[0],\n      country_flag: targetCountry[1],\n      heading_text: text\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 9\n  }, this);\n}\n\n_s(GDP, \"auvoS3F5v9X8Xy2MwXgVUBwTLEQ=\");\n\n_c = GDP;\nexport default GDP;\n\nvar _c;\n\n$RefreshReg$(_c, \"GDP\");","map":{"version":3,"sources":["/Users/jaylenschelb/dev/courses/Year 2/Term 3/ACS 1310/final_project/src/components/GDP.js"],"names":["useState","useRef","FlagStat","GDP","mapState","country_data","country_gdp","text","min_max","comp_index","target_gdp","gdp_array","flag_array","prev_countries","prev_selected","console","log","current","targetCountry","setTargetCountry","calculateTargetGDP","index","countryCode","isSelected","gdp","find","i","country","countryName","indexOf","filter","e","splice","length","new_target_gdp","Math","max","min","flag","cca2","push"],"mappings":"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","sourcesContent":["// This component could use some cleaning up... Should get rid of all the [min_max] indexing\n// More time effecient solution could be written for determining min and max GDP's\n\nimport { useState, useRef } from 'react'\nimport FlagStat from \"./FlagStat\";\n\n\n\nfunction GDP({ mapState, country_data, country_gdp, text, min_max, comp_index }) {\n\n    let target_gdp = useRef([[null, null], [null, null]])\n    let gdp_array = useRef([[], []])\n    let flag_array = useRef([[], []])\n    let prev_countries = useRef(['', ''])\n    let prev_selected = useRef([false, false])\n\n    console.log(gdp_array.current)\n\n    const [targetCountry, setTargetCountry] = useState([0, '']);\n\n    function calculateTargetGDP() {\n        let index\n        prev_countries.current[min_max] = mapState.countryCode\n        prev_selected.current[min_max] = mapState.isSelected\n\n        let gdp = country_gdp.find(i=>i.country === mapState.countryName)[comp_index]\n\n        if (!mapState.isSelected) {\n            index = gdp_array.current[min_max].indexOf(gdp)\n            gdp_array.current[min_max] = gdp_array.current[min_max].filter(function(e) { return e !== gdp })\n            flag_array.current[min_max].splice(index, 1)\n\n            if (gdp_array.current[min_max].length === 0) {\n                target_gdp.current[min_max] = [null, null]\n                setTargetCountry([0, ''])\n                return\n            }\n\n            if (gdp === target_gdp.current[min_max][0]) {\n                let new_target_gdp\n\n                if (min_max === 1) {\n                    new_target_gdp = Math.max(...gdp_array.current[min_max])\n                } else {\n                    new_target_gdp = Math.min(...gdp_array.current[min_max])\n                }\n\n                index = gdp_array.current[min_max].indexOf(new_target_gdp)\n                target_gdp.current[min_max] = [new_target_gdp, flag_array.current[min_max][index]]\n                setTargetCountry(target_gdp.current[min_max])\n            }\n\n            return\n        }\n\n        let flag = country_data.find(i=>i.cca2 === mapState.countryCode).flag\n        gdp_array.current[min_max].push(gdp)\n        flag_array.current[min_max].push(flag)\n\n        if (min_max === 1) {\n            if (gdp > target_gdp.current[min_max][0] || !target_gdp.current[min_max][0]) {\n                target_gdp.current[min_max] = [gdp, flag]\n                setTargetCountry(target_gdp.current[min_max])\n            }\n        } else {\n            if (gdp < target_gdp.current[min_max][0] || !target_gdp.current[min_max][0]) {\n                target_gdp.current[min_max] = [gdp, flag]\n                setTargetCountry(target_gdp.current[min_max])\n            }\n        }\n    }\n\n\n    if (mapState.countryCode !== '' && (mapState.countryCode !== prev_countries.current[min_max] || mapState.isSelected !== prev_selected.current[min_max])) {\n        calculateTargetGDP()\n    }\n\n    return (\n        <div className=\"GDP\">\n            <FlagStat\n                valueEnd={targetCountry[0]}\n                country_flag={targetCountry[1]}\n                heading_text={text}\n            />\n        </div>\n    )\n}\n  \n  export default GDP"]},"metadata":{},"sourceType":"module"}